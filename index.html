
<!DOCTYPE html>
<html>
<head>
    <title>Skaters Points Table</title>
    <style>
        table { border-collapse: collapse; width: 80%; margin: auto; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        th { background-color: #f2f2f2; }
        caption { font-size: 1.5em; margin: 10px; }
        button { margin: 10px; padding: 10px 15px; }
        .container { text-align: center; margin-bottom: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <button onclick="showAllScores()">Show All Scores</button>
        <button onclick="showUniqueHighest()">Show Unique Highest Score</button>
    </div>
    <table>
        <caption>Skaters Scores and Rankings</caption>
        <thead>
            <tr>
                <th>Rank</th>
                <th>Name</th>
                <th>Country</th>
                <th>Points</th>
                <th>Competition ID</th>
            </tr>
        </thead>
        <tbody id="tableBody"></tbody>
    </table>

    <script>
        const skaters = [{"compID": "NHK25", "country": "JPN", "name": "Yuma KAGIYAMA", "points": "287.24"}, {"compID": "NHK25", "country": "JPN", "name": "Shun SATO", "points": "285.71"}, {"compID": "NHK25", "country": "SUI", "name": "Lukas BRITSCHGI", "points": "246.94"}, {"compID": "NHK25", "country": "CHN", "name": "Boyang JIN", "points": "239.05"}, {"compID": "NHK25", "country": "KOR", "name": "Junhwan CHA", "points": "230.26"}, {"compID": "NHK25", "country": "SVK", "name": "Adam HAGARA", "points": "230.00"}, {"compID": "NHK25", "country": "ITA", "name": "Matteo RIZZO", "points": "229.60"}, {"compID": "NHK25", "country": "FRA", "name": "Francois PITOT", "points": "229.47"}, {"compID": "NHK25", "country": "USA", "name": "Andrew TORGASHEV", "points": "212.01"}, {"compID": "NHK25", "country": "USA", "name": "Jimmy MA", "points": "208.56"}, {"compID": "NHK25", "country": "ITA", "name": "Gabriele FRANGIPANI", "points": "204.64"}, {"compID": "NHK25", "country": "JPN", "name": "Haru KAKIUCHI", "points": "186.40"}, {"compID": "SCI25", "country": "USA", "name": "Ilia MALININ", "points": "333.81"}, {"compID": "SCI25", "country": "EST", "name": "Aleksandr SELEVKO", "points": "257.21"}, {"compID": "SCI25", "country": "JPN", "name": "Kao MIURA", "points": "253.69"}, {"compID": "SCI25", "country": "JPN", "name": "Kazuki TOMONO", "points": "251.46"}, {"compID": "SCI25", "country": "GEO", "name": "Nika EGADZE", "points": "247.95"}, {"compID": "SCI25", "country": "ITA", "name": "Nikolaj MEMOLA", "points": "238.20"}, {"compID": "SCI25", "country": "CAN", "name": "Roman SADOVSKY", "points": "236.73"}, {"compID": "SCI25", "country": "CAN", "name": "Stephen GOGOLEV", "points": "236.48"}, {"compID": "SCI25", "country": "USA", "name": "Tomoki HIWATASHI", "points": "230.58"}, {"compID": "SCI25", "country": "FRA", "name": "Kevin AYMOZ", "points": "230.10"}, {"compID": "SCI25", "country": "POL", "name": "Vladimir SAMOILOV", "points": "225.33"}, {"compID": "SCI25", "country": "CAN", "name": "Aleksa RAKIC", "points": "216.90"}];

        function renderTable(data) {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';
            data.forEach((skater, index) => {
                const row = `<tr>
                    <td>${index + 1}</td>
                    <td>${skater.name}</td>
                    <td>${skater.country}</td>
                    <td>${skater.points}</td>
                    <td>${skater.compID}</td>
                </tr>`;
                tbody.insertAdjacentHTML('beforeend', row);
            });
        }

        function showAllScores() {
            const sorted = [...skaters].sort((a, b) => parseFloat(b.points) - parseFloat(a.points));
            renderTable(sorted);
        }

        function showUniqueHighest() {
            const uniqueMap = new Map();
            skaters.forEach(s => {
                if (!uniqueMap.has(s.name) || parseFloat(s.points) > parseFloat(uniqueMap.get(s.name).points)) {
                    uniqueMap.set(s.name, s);
                }
            });
            const uniqueArray = Array.from(uniqueMap.values());
            uniqueArray.sort((a, b) => parseFloat(b.points) - parseFloat(a.points));
            renderTable(uniqueArray);
        }

        // Initial render with all scores
        showAllScores();
    </script>
</body>
</html>
