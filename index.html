
<!DOCTYPE html>
<html>
<head>
    <title>Skaters Points Table</title>
    <style>
        table { border-collapse: collapse; width: 80%; margin: auto; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        th { background-color: #f2f2f2; }
        caption { font-size: 1.5em; margin: 10px; }
        button { margin: 10px; padding: 10px 15px; }
        .container { text-align: center; margin-bottom: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <button onclick="setCategory('Senior Men')">Senior Men</button>
        <button onclick="setCategory('Senior Women')">Senior Women</button>
        <button onclick="setCategory('Senior Pairs')">Senior Pairs</button>
        <button onclick="setCategory('Senior Ice Dance')">Senior Ice Dance</button>
    </div>
    <div class="container">
        <button onclick="setMode('all')">Show All Scores</button>
        <button onclick="setMode('unique')">Show Unique Highest Score</button>
    </div>
    <table>
        <caption>Skaters Scores and Rankings</caption>
        <thead>
            <tr>
                <th>Rank</th>
                <th>Name</th>
                <th>Country</th>
                <th>Points</th>
                <th>Competition</th>
            </tr>
        </thead>
        <tbody id="tableBody"></tbody>
    </table>

    <script>
        const skaters = [{"category": "Senior Men", "compID": "NHK25", "country": "JPN", "name": "Yuma KAGIYAMA", "points": "287.24"}, {"category": "Senior Men", "compID": "NHK25", "country": "JPN", "name": "Shun SATO", "points": "285.71"}, {"category": "Senior Men", "compID": "NHK25", "country": "SUI", "name": "Lukas BRITSCHGI", "points": "246.94"}, {"category": "Senior Men", "compID": "NHK25", "country": "CHN", "name": "Boyang JIN", "points": "239.05"}, {"category": "Senior Men", "compID": "NHK25", "country": "KOR", "name": "Junhwan CHA", "points": "230.26"}, {"category": "Senior Men", "compID": "NHK25", "country": "SVK", "name": "Adam HAGARA", "points": "230.00"}, {"category": "Senior Men", "compID": "NHK25", "country": "ITA", "name": "Matteo RIZZO", "points": "229.60"}, {"category": "Senior Men", "compID": "NHK25", "country": "FRA", "name": "Francois PITOT", "points": "229.47"}, {"category": "Senior Men", "compID": "NHK25", "country": "USA", "name": "Andrew TORGASHEV", "points": "212.01"}, {"category": "Senior Men", "compID": "NHK25", "country": "USA", "name": "Jimmy MA", "points": "208.56"}, {"category": "Senior Men", "compID": "NHK25", "country": "ITA", "name": "Gabriele FRANGIPANI", "points": "204.64"}, {"category": "Senior Men", "compID": "NHK25", "country": "JPN", "name": "Haru KAKIUCHI", "points": "186.40"}, {"category": "Senior Women", "compID": "NHK25", "country": "JPN", "name": "Kaori SAKAMOTO", "points": "227.18"}, {"category": "Senior Women", "compID": "NHK25", "country": "KAZ", "name": "Sofia SAMODELKINA", "points": "200.00"}, {"category": "Senior Women", "compID": "NHK25", "country": "BEL", "name": "Loena HENDRICKX", "points": "198.97"}, {"category": "Senior Women", "compID": "NHK25", "country": "KOR", "name": "Young YOU", "points": "198.82"}, {"category": "Senior Women", "compID": "NHK25", "country": "USA", "name": "Sarah EVERHARDT", "points": "186.69"}, {"category": "Senior Women", "compID": "NHK25", "country": "JPN", "name": "Yuna AOKI", "points": "183.31"}, {"category": "Senior Women", "compID": "NHK25", "country": "KOR", "name": "Ahsun YUN", "points": "180.23"}, {"category": "Senior Women", "compID": "NHK25", "country": "ITA", "name": "Anna PEZZETTA", "points": "173.75"}, {"category": "Senior Women", "compID": "NHK25", "country": "JPN", "name": "Wakaba HIGUCHI", "points": "168.27"}, {"category": "Senior Women", "compID": "NHK25", "country": "USA", "name": "Elyce LIN-GRACEY", "points": "162.41"}, {"category": "Senior Women", "compID": "NHK25", "country": "CAN", "name": "Katherine MEDLAND SPENCE", "points": "146.63"}, {"category": "Senior Women", "compID": "NHK25", "country": "SUI", "name": "Livia KAISER", "points": "134.21"}, {"category": "Senior Men", "compID": "SCI25", "country": "USA", "name": "Ilia MALININ", "points": "333.81"}, {"category": "Senior Men", "compID": "SCI25", "country": "EST", "name": "Aleksandr SELEVKO", "points": "257.21"}, {"category": "Senior Men", "compID": "SCI25", "country": "JPN", "name": "Kao MIURA", "points": "253.69"}, {"category": "Senior Men", "compID": "SCI25", "country": "JPN", "name": "Kazuki TOMONO", "points": "251.46"}, {"category": "Senior Men", "compID": "SCI25", "country": "GEO", "name": "Nika EGADZE", "points": "247.95"}, {"category": "Senior Men", "compID": "SCI25", "country": "ITA", "name": "Nikolaj MEMOLA", "points": "238.20"}, {"category": "Senior Men", "compID": "SCI25", "country": "CAN", "name": "Roman SADOVSKY", "points": "236.73"}, {"category": "Senior Men", "compID": "SCI25", "country": "CAN", "name": "Stephen GOGOLEV", "points": "236.48"}, {"category": "Senior Men", "compID": "SCI25", "country": "USA", "name": "Tomoki HIWATASHI", "points": "230.58"}, {"category": "Senior Men", "compID": "SCI25", "country": "FRA", "name": "Kevin AYMOZ", "points": "230.10"}, {"category": "Senior Men", "compID": "SCI25", "country": "POL", "name": "Vladimir SAMOILOV", "points": "225.33"}, {"category": "Senior Men", "compID": "SCI25", "country": "CAN", "name": "Aleksa RAKIC", "points": "216.90"}, {"category": "Senior Men", "compID": "CoC25", "country": "JPN", "name": "Shun SATO", "points": "278.12"}, {"category": "Senior Men", "compID": "CoC25", "country": "ITA", "name": "Daniel GRASSL", "points": "269.43"}, {"category": "Senior Men", "compID": "CoC25", "country": "KAZ", "name": "Mikhail SHAIDOROV", "points": "262.67"}, {"category": "Senior Men", "compID": "CoC25", "country": "USA", "name": "Tomoki HIWATASHI", "points": "245.71"}, {"category": "Senior Men", "compID": "CoC25", "country": "CHN", "name": "Boyang JIN", "points": "232.81"}, {"category": "Senior Men", "compID": "CoC25", "country": "AZE", "name": "Vladimir LITVINTSEV", "points": "222.64"}, {"category": "Senior Men", "compID": "CoC25", "country": "USA", "name": "Jacob SANCHEZ", "points": "221.21"}, {"category": "Senior Men", "compID": "CoC25", "country": "KOR", "name": "Junhwan CHA", "points": "217.53"}, {"category": "Senior Men", "compID": "CoC25", "country": "JPN", "name": "Sota YAMAMOTO", "points": "211.67"}, {"category": "Senior Men", "compID": "CoC25", "country": "LAT", "name": "Deniss VASILJEVS", "points": "204.51"}, {"category": "Senior Men", "compID": "CoC25", "country": "CHN", "name": "Daiwei DAI", "points": "197.54"}, {"category": "Senior Men", "compID": "CoC25", "country": "CHN", "name": "Zhiming PENG", "points": "184.52"}, {"category": "Senior Men", "compID": "GPFra25", "country": "USA", "name": "Ilia MALININ", "points": "321.00"}, {"category": "Senior Men", "compID": "GPFra25", "country": "FRA", "name": "Adam SIAO HIM FA", "points": "280.95"}, {"category": "Senior Men", "compID": "GPFra25", "country": "GEO", "name": "Nika EGADZE", "points": "259.41"}, {"category": "Senior Men", "compID": "GPFra25", "country": "SUI", "name": "Lukas BRITSCHGI", "points": "249.04"}, {"category": "Senior Men", "compID": "GPFra25", "country": "FRA", "name": "Francois PITOT", "points": "233.98"}, {"category": "Senior Men", "compID": "GPFra25", "country": "USA", "name": "Andrew TORGASHEV", "points": "233.36"}, {"category": "Senior Men", "compID": "GPFra25", "country": "JPN", "name": "Tatsuya TSUBOI", "points": "232.78"}, {"category": "Senior Men", "compID": "GPFra25", "country": "EST", "name": "Mihhail SELEVKO", "points": "232.17"}, {"category": "Senior Men", "compID": "GPFra25", "country": "USA", "name": "Maxim NAUMOV", "points": "226.74"}, {"category": "Senior Men", "compID": "GPFra25", "country": "JPN", "name": "Kao MIURA", "points": "209.57"}, {"category": "Senior Men", "compID": "GPFra25", "country": "FRA", "name": "Luc ECONOMIDES", "points": "208.86"}, {"category": "Senior Men", "compID": "GPFra25", "country": "ITA", "name": "Gabriele FRANGIPANI", "points": "197.99"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "CAN", "name": "Roman SADOVSKY", "points": "243.23"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "EST", "name": "Aleksandr SELEVKO", "points": "235.70"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "CAN", "name": "Stephen GOGOLEV", "points": "231.81"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "ISR", "name": "Tamir KUPERMAN", "points": "211.87"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "USA", "name": "Jacob SANCHEZ", "points": "211.31"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "MEX", "name": "Donovan CARRILLO", "points": "208.51"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "USA", "name": "Jimmy MA", "points": "207.53"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "USA", "name": "Liam KAPEIKIS", "points": "201.94"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "USA", "name": "Tomoki HIWATASHI", "points": "201.66"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "KOR", "name": "Jaekeun LEE", "points": "198.50"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "ISR", "name": "Mark GORODNITSKY", "points": "193.08"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "USA", "name": "Kai KOVAR", "points": "189.91"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "ARM", "name": "Semen DANILIANTS", "points": "187.48"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "ISR", "name": "Lev VINOKUR", "points": "170.34"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "KOR", "name": "Juheon LIM", "points": "161.89"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "USA", "name": "Daniel MARTYNOV", "points": "153.00"}, {"category": "Senior Men", "compID": "CranberryCup", "country": "USA", "name": "Jared SEDLIS", "points": "139.71"}];
        let selectedCategory = 'Senior Men'; // store currently selected category
        let selectedMode = 'all'; // 'all' or 'unique'

        function setCategory(category){
            selectedCategory = category;
            updateTable();
        }

        function setMode(mode){
            selectedMode = mode;
            updateTable();
        }

        function getFilteredSkaters(){
            if (selectedCategory){
            return skaters.filter(s => s.category === selectedCategory);
            }
            return skaters;
        }
        
        function renderTable(data) {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';
            data.forEach((skater, index) => {
                const row = `<tr>
                    <td>${index + 1}</td>
                    <td>${skater.name}</td>
                    <td>${skater.country}</td>
                    <td>${skater.points}</td>
                    <td>${skater.compID}</td>
                </tr>`;
                tbody.insertAdjacentHTML('beforeend', row);
            });
        }

        function updateTable(){
            let filtered = getFilteredSkaters();
            let dataToShow = [];

            if (selectedMode === 'unique'){
            const uniqueMap = new Map();
            filtered.forEach(s =>{
                if (!uniqueMap.has(s.name) || parseFloat(s.points) > parseFloat(uniqueMap.get(s.name).points)){
                uniqueMap.set(s.name, s);
                }
            });
            dataToShow = Array.from(uniqueMap.values());
            } else {
                dataToShow = [...filtered];
            }

            dataToShow.sort((a, b) => parseFloat(b.points) - parseFloat(a.points));
            renderTable(dataToShow);
        }

  
        // Initial render
        updateTable();
    </script>
</body>
</html>
